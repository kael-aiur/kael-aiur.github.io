---
layout: post
comments: true
categories: 面试
title: java基础技术
tags: java,前端,基础技术
grammar_cjkRuby: true
author: kael
---

* content
{:toc}

## 前言

本博客主要针对[如何做好一个面试官](如何做好一个面试官)中的java基础技术部分，记录一些常问的面试问题。

## 集合框架

jdk中的集合框架主要分两大类：

* 纯数据集合
* 键值对集合

纯数据集合的顶层接口是`java.util.Collection`，键值对集合的顶层接口是`java.util.Map`。

针对集合框架可以问以下几个基础的问题：

----
> 说说你所知道的在JDK中List接口的实现类。

常用实现：ArrayList，LinkedList  
线程安全实现：CopyOnWriteArrayList

----
> 说说你所知道的在JDK中Map接口的实现类。

常用实现：HashMap，LinkedHashMap  
线程安全实现：ConcurrentHashMap，HashTable

----
> 说说你所知道的在JDK中Set接口的实现类。

常用实现：HashSet，LinkedHashSet，TessSet

----
> 说说你所知道的在JDK中Queue接口的实现类。

常用实现：ArrayBlockQueue，LinkedList  
线程安全实现：ConcurrentLinkedDeque，SynchronousQueue

----
> 说说Map/List/Set/Queue有什么区别。

Map和List/Set/Queue不同，Map是键值对，List/Set/Queue是列表集合，数据结构不同。  
Set是集合，不允许相同的元素。  
List是列表，Queue是有序队列。
    
## socket编程

jdk中的socket编程比较简单，主要是Socket类的使用。

----
> 如何连接一个远程的TCP/IP服务？

使用Socket类，指定IP地址和端口即可。

----
> 如何写消息到远程的TCP/IP服务器？如何读远程服务的返回信息？

Socket类连接上之后，可以打开输入流和输出流，输出流写消息，输入流读消息。
    
## 线程池的使用

jdk中提供了简单易用的线程池框架，主要是ThreadPoolExecutor类的使用。

----
> 什么是线程池？

线程池是一个多线程容器，在高并发任务下可以实现线程复用，减少创建和销毁线程的系统开销，提高系统性能。
    
----
> 线程池和连接池有什么区别？

线程池和连接池是完全不同的概念。线程池是将任务排队，由线程池决定任务执行的时间，连接池是将连接取出交给外部使用，等待外部处理完成后交回连接。
    
----
> jdk中如何使用线程池？

通过Executors类创建一个线程池，这个线程池是ThreadPoolExecutor的实例对象。然后将任务(Runnable对象)交给线程池：
    
```java
ThreadPoolExecutor executor = (ThreadPoolExecutor)Executors.newFixedThreadPool(15);
executor.execute(runnable);
```

## IO流

java中，IO流是极重要的一部分知识，最主要的问题集中在：字符流和字节流，输入流和输出流。

----
> 字符流和字节流有什么区别？

字符流是按字符读取和写出的流，字节流是按字节读取和写出的流。  
字符流通常和编码有关系，一个字符有时候不只是一个字节，读取和写出会根据编码一次性读取和写出多个字节。
字节流和编码无关，每次读取和写出都是按照一个字节(byte)读取和写出。
    
----
> 字符流和字节流的顶级接口是哪几个？

字节流顶级接口：InputStream，OutputStream  
字符流顶级接口：Reader，Writer
    
----
> 什么情况下用字符流？什么情况下有字节流？

通常需要显示和编码的会用字符流，不需要显示和编码的用字节流。  
比如文件复制用字节流，HTTP报文传输用字符流。
    
----
> InputStream和OutputStream的常见实现？

InputStream: FileInputStream，BufferedInputStream。
OutputStream: FileOutputStream，BufferedOutputStream。
    
----
> Reader和Writer的常见实现？

Reader: InputStreamReader，StringReader，BufferedReader  
Writer: OutputStreamWriter，StringWriter，BufferedWriter
    
----
> 字节流如何转换为字符流

使用InputStreamReader和OutputStreamWriter。
    
```java
InputStream is = new FileInputStream("file");
InputStreamReader isr = new InputStreamReader(is);
```

----
> jdk中没有字符流转字节流的方式。

## 异常和错误

java的异常处理机制就是`try-catch-finally`，但是异常分两大类：

* 受查异常
* 非受查异常

两者的处理方式不一样。

----
> 受查异常和非受查异常有什么区别？

受查异常是指在写代码的时候就已经知道有可能会抛出的异常，这种异常要求代码中必须捕获和处理。  
非受查异常是指在程序运行过程中由于未知问题抛出的异常，这种异常一般是未知的，代码中不要求捕获。
    
----
> 什么情况下应抛出受查异常？什么情况下抛出非受查异常？

一般当我们和业务逻辑相关的异常，需要抛出受查异常，以便外部做业务相关的处理。  
和业务无关的异常可以抛出非受查异常，表示提示使用程序的人。
    
----
> 对于使用IO流的接口抛出的IOException，一般如何处理？

开放问题，一般来说IOException都是程序无法处理的问题，可以选择继续向外抛出异常，或者包装成非受查异常抛出。
    
----
> 受查异常的顶级类和非受查异常的顶级类？

非受查异常：RuntimeException
受查异常： Throwable
  
## 并发编程

java的并发编程主要是锁和多线程类Thread，另外需要考虑线程安全和非线程安全的处理。

----
> 如何创建并开始一个线程？

```java
Thread t = new Thread();
t.start();
```

----
> java中有几种方式实现一段代码的线程安全？

两种：synchronized关键字和Lock对象。
    
----
> synchronized关键字和Lock对象实现锁有什么区别？

1. synchronized关键字由jvm保证锁的释放，Lock对象需要通过try-catch-finally自己保证锁释放。
2. Lock对象锁在高并发下性能比synchronized更好。
    
----
> Lock的常用实现？

ReentrantLock，ReentrantReadWriteLock
    
----
> ThreadLocal类是做什么用的？

在多线程并发下，ThreadLocal可以对一个单例对象为每一个线程保存一份线程变量，使每一个线程对对单例对象的变更不会影响其他线程的同一个对象。实现的机制就是为每一个线程复制一个独立的线程变量。    

## 设计模式

设计模式是跟语言无关的一种编程思想，使用设计模式主要是为了提高代码的可读性和复用性，当然，对于大部分不写框架的人来说，学习设计模式更多的用处在于读懂别人写的代码。

----
> 常用的设计模式有哪几种？

总体来说设计模式分为三大类：  
创建型模式，共五种：工厂方法模式、抽象工厂模式、单例模式、建造者模式、原型模式。  
结构型模式，共七种：适配器模式、装饰器模式、代理模式、外观模式、桥接模式、组合模式、享元模式。  
行为型模式，共十一种：策略模式、模板方法模式、观察者模式、迭代子模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式。
    
----
> 工程方法模式和抽象工厂模式有什么区别？

工程方法模式是指通过一个工程构造不同的对象实例。
抽象工厂模式是指不同的实例对象使用不同的实例工程构造。
    
----
> 单例模式通常在什么情况下使用？

单例模式是指全局使用一个对象即可，同一个类不需要构造多个对象，通常无状态的服务类对象都使用单例模式。
    
----
> 什么是装饰器模式？

装饰器模式是指通过将多个不同功能的类对象组合成一个类对象的方式，这个类对象具备多个功能，并且可以很方便的扩展功能。
    
## 总结

本文主要对jdk相关的基础知识整理了部分面试问题，并且对面试问题做了一个简单的解答，更多的技术细节和知识应该查阅资料并学习。
    
