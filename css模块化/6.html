<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="zh_CN">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<link rel="stylesheet" type="text/css" href="../css/base/base.css"
	media="screen" />
<link rel="stylesheet" type="text/css" href="../css/common/markdown.css"
	media="screen" />
<link rel="stylesheet" type="text/css" href="../css/common/common.css"
	media="screen" />
<link rel="stylesheet" type="text/css" href="../css/pages/index.css"
	media="screen" />
<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
<title>Kael</title>
</head>
<body>
	<div class="header">
		<div class="logo">
			<a href="http://kael-aiur.github.io/">
  			<img src="../images/kael.jpg" alt="kael" />
  			<span>Kael的个人网站</span>
  			</a>
		</div>
	</div>
	<div class="body">
		<div class="author-content">
			<div class="avatar">
				<img src="../images/kael.jpg" alt="kael" />
			</div>
			<div class="avatar-name">Kael-aiur</div>
			<div class="avatar-introduce">
				<p>
					&nbsp;&nbsp;我是一个java的web全栈开发人员，做这个网站主要的想法是用来转载自己在网上看到的一些自己比较喜欢的资料，当然也欢迎大家来这里看我转载的资料
				</p>
			</div>
		</div>
		<div class="body-content">
			<div class="title">CSS模块化(六) 模块化设计</div>
			<hr />
			<div class="content">
			<!-- content start -->
			
			<p>转载自<a href="http://blog.csdn.net/hacke2/article/details/21707885" class="uri">http://blog.csdn.net/hacke2/article/details/21707885</a></p>
<blockquote>
<ol>
<li>模块化设计<br />
 6.1 样式的作用域页面重构中的模块化设计一<br />
 6.2 栏目级作用域页面重构中的模块化设计二<br />
 6.3 继承页面重构中的模块化设计三<br />
 6.4 模块化的核心思想页面重构中的模块化设计四<br />
 6.5 基类扩展类页面重构中的模块化设计五<br />
 6.6 CSS模块的注释页面重构中的模块化设计六</li>
</ol>
</blockquote>
<h1 id="css-">6. CSS模块化(六) 模块化设计</h1>
<h2>6.1 样式的作用域──页面重构中的模块化设计（一）</h2>
<p>模块化设计我已经提过很多了，都是跟模块化相关的，不过之前一直没有讲到具体实现方面的内容，只是一些思维。这次重点讲一下实现方面的内容，<br />
权当到目前为止我对模块化的一些总结整理。<br />
要做好模块化，我觉得理解好样式的作用域是很重要的。写过程序的同学应该都知道，变量是有作用域的（不知道的同学自己去问谷歌，这里就不作解释了），<br />
样式的定义也同样存在着作用域的问题，即定义的作 用范围，很容易就能理解，如下面的p的作用域：</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
<span class="co">/*作用域：全局*/</span> p<span class="kw">{text-indent:</span><span class="dt">2em</span><span class="kw">;}</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css"> CODE<span class="dv">:</span>
<span class="co">/*作用域：.demo这个类中*/</span> <span class="fl">.demo</span> p<span class="kw">{color:</span><span class="dt">#000000</span><span class="kw">;}</span></code></pre></div>
<p>样式选择器的优先级是学习样式的基础知识，一起简单回顾下：</p>
<ul>
<li>标签的权值为0,0,0,1</li>
<li>类的权值为0,0,1,0</li>
<li>属性选择的权值为0,0,1,1</li>
<li>ID的权值为0,1,0,0</li>
<li>important的权值为最高1,0,0,0</li>
</ul>
<p>使用的规则也很简单，就是 选择器的权值加到一起，大的优先；如果权值相同，后定义的优先 。虽然很简单，但如果书写的时候没有注意，<br />
很容易就会导致CSS的重复定义，代码冗余。从上面我们可以得出两个关键的因素：</p>
<ol>
<li>权值的大小跟选择器的类型和数量有关</li>
<li>样式的优先级跟样式的定义顺序有关</li>
</ol>
<p>了解样式的权值后有什么作用呢？比如可以这样用：举一个最简单的例子</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
body<span class="kw">{color:</span><span class="dt">#555555</span><span class="kw">;}</span><span class="fl">.demo</span><span class="kw">{color:</span><span class="dt">#000000</span><span class="kw">;}</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
&lt;p&gt;这里的文字颜色受全局定义的影响&lt;/p&gt;
&lt;div class=<span class="st">&quot;demo&quot;</span>&gt;&lt;p&gt;这里的文字颜色受类demo定义的影响&lt;/p&gt;&lt;/div&gt;
&lt;p class=<span class="st">&quot;demo&quot;</span>&gt;这里的文字颜色受类demo定义的影响&lt;/p&gt;</code></pre></div>
<p>知道了样式的权值，你就知道上面例子的表现是怎样的了。进一步的应用，就是模块化了。<br />
再来说说“作用域”，相信大家很容易就会想到“全局”、“公共”这些词，关注过模块化的同学应该都知道，网上说得最多的一种“模块化”，<br />
就是像 header、footer这样的以大区域划分。在去年web标准交流会（页面重构合理化讨论）上，克军提出了“样式的三层架构”——公共规则层、公共模 块层、项目层。<br />
这些都有它们适用的范围，而且最大的优点是容易理解和应用。这里也不再作重诉了，上面已经讲过。<br />
我在这一块的划分上，有点类似克军的“样式的三层架构”，有一点小的差别，我是以“作用域”来分的： 公共级（全局）、栏目级 （局部公共）、页面级 。<br />
如何划分这个“作用域”呢？很简单，全局的global就是公共级的；只在栏目中用到的局部global是属于栏目级的；只影响单个页面的就是属于页面 级的了。<br />
最后几点要特别注意的：<br />
除了标签选择器之外，哪些类是使用于公共级、栏目级中的，如</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
<span class="fl">.tx_hit</span><span class="kw">{color:</span><span class="dt">#FF0000</span> <span class="kw">!important;}</span></code></pre></div>
<p>的适用范围是公共级的，应该放于全局的定义中。但，如果它只影响于某个栏目，那么就应该把它放于栏目级的作用域中。</p>
<ul>
<li>标签选择器一般属于栏目定义，有时会用于公共级作用域中，除了最基础的reset之外，应尽可能少使用在公共级定义中</li>
<li>可继承的属性定义使用时须注意影响的范围，特别是在标签选择器中使用时</li>
<li>同类选择器无加权</li>
</ul>
<p>接下来的内容就是以这个为基础的，希望大家能理解“样式的作用域”，对于后继内容的理解会很有帮助。</p>
<h2>6.2 栏目级作用域──页面重构中的模块化设计（二）</h2>
<p>在<a href="http://www.cssforest.org/blog/index.php?id=161">《样式的作用域── 页面重构中的模块化设计（一）》</a>中，我将样式的作用域分为了三个部分：<br />
公共级（全局）、栏目级（局部公共）、页面级。公共级（全局）容易理解，即影响站点中所有页面。简单解释下栏目级（局部公共）和页面级：<br />
页面级<br />
可分为两种情况：在多个页面间，页面级作用域指针对某一单独的页面定义；在同一个页面中，页面级作用指针对某 一标签的定义。它将决定最终的页面效果。<br />
栏目级（局部公共）<br />
介于全局与单个页面之间的一个作用 域，影响一个栏目（或某区域）。通常以某一类选择符做为开始，以包含选择符的方式将样式定义限定在某一区域中。</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css"> CODE<span class="dv">:</span>
<span class="co">/* 只影响demo这个区域 */</span>
<span class="fl">.demo</span> a<span class="kw">{</span><span class="er">...</span><span class="kw">}</span>
<span class="fl">.demo</span> p<span class="kw">{</span><span class="er">...</span><span class="kw">}</span>
<span class="fl">.demo</span> <span class="fl">.title</span><span class="kw">{</span><span class="er">...</span><span class="kw">}</span></code></pre></div>
<p>需要消化下的内容，决定一个样式定义是属于哪个作用域的因素有以下两点：<br />
样式定义所在样式文件中的位置。（同样的一个定义，放在不同的位置，所影响的范围会有所不同。）<br />
HTML中绑定demo这个类的标签位置。（同样一个类，绑定在body标签和绑定在页面中某个标签上，所影响的范围也会不同。）<br />
在一个站点中，可能会分为几个不同的栏目，同一个栏目中，一般风格会保持一致。而不同的栏目间，相似的风格则不一定会相同。即使是全站通用的模 块，<br />
如翻页，也可能会因为栏目的不同而会有一些差异，比如链接的颜色等等。使用栏目级的样式定义，能很好的减少代码的冗余，提高模块的复用性。<br />
另外需要在思维上注意的一点，以作用域划分，并不意味着有着对应的文件，可能有些同学会习惯的以为一个作用域就应该对应着一个文件。比如一个小的 栏目，<br />
可能只有两三个页面，这时我们就不一定需要再把栏目级的定义单独出来一个文件，而是与页面级的定义一起放在一个文件里，像这样：</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
<span class="co">/* S 栏目级定义 */</span>
<span class="fl">.class</span><span class="kw">{</span><span class="er">...</span><span class="kw">}</span>
<span class="co">/* E 栏目级定义 */</span>
<span class="co">/* S 页面级定义 */</span>
<span class="fl">.page</span><span class="kw">{</span><span class="er">...</span><span class="kw">}</span>
<span class="co">/* E 页面级定义 */</span></code></pre></div>
<h2>6.3 继承──页面重构中的模块化设计（三）</h2>
<p>前面我们了解了 样式的作用域的分类 和 栏目级作用域。在权值中，还有一个很重要的因素，需要做下补充，起因是这样的，有个同学在CSS森林群里问了个问题：<br />
根据样式权值两个关键的因素<br />
权值的大小跟选择器的类型和数量有关<br />
样式的优先级跟样式的定义顺序有关<br />
可以知道，如果10个标签选择器的权值应该比一个类选择的权值高，像这样：</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css"> CODE<span class="dv">:</span>
div div div div div div div div div div div<span class="kw">{color:</span><span class="dt">blue</span><span class="kw">;}</span>
<span class="fl">.c10</span><span class="kw">{color:</span><span class="dt">red</span><span class="kw">;}</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html">CODE:
<span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c1&quot;</span><span class="kw">&gt;</span>
  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c2&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c3&quot;</span><span class="kw">&gt;</span>
      <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c4&quot;</span><span class="kw">&gt;</span>
        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c5&quot;</span><span class="kw">&gt;</span>
          <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c6&quot;</span><span class="kw">&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c7&quot;</span><span class="kw">&gt;</span>
              <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c8&quot;</span><span class="kw">&gt;</span>
                <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c9&quot;</span><span class="kw">&gt;</span>
                  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c10&quot;</span><span class="kw">&gt;</span>
                     <span class="kw">&lt;div&gt;</span>这段文字是什么颜色？<span class="kw">&lt;/div&gt;</span>
                  <span class="kw">&lt;/div&gt;</span>
                <span class="kw">&lt;/div&gt;</span>
              <span class="kw">&lt;/div&gt;</span>
            <span class="kw">&lt;/div&gt;</span>
          <span class="kw">&lt;/div&gt;</span>
        <span class="kw">&lt;/div&gt;</span>
      <span class="kw">&lt;/div&gt;</span>
    <span class="kw">&lt;/div&gt;</span>
  <span class="kw">&lt;/div&gt;</span>
<span class="kw">&lt;/div&gt;</span></code></pre></div>
<p>先别急着看<a href="http://www.cssforest.org/trys/mode/3_1.html">答案</a>，分析下。意料之中？如果<a href="http://www.cssforest.org/trys/mode/3_2.html">这样</a>呢？</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE：
div<span class="kw">{color:</span><span class="dt">blue</span><span class="kw">;}</span>
<span class="fl">.c10</span><span class="kw">{color:</span><span class="dt">red</span><span class="kw">;}</span></code></pre></div>
<p>是不是跟想的不太一样？难道前面所说的权值是有问题的？前面讲的权值并没有问题，不过漏了一个重要的规则： 继承的权值小于 0,0,0,1。<br />
样式的继承<br />
指被包在内部的标签将拥有外部标签的样式性质。<br />
继承最大的意义在于可以减少重复的定义，比如要定义整个页面的文本颜色，只需要定义body的color样式，body里的所有标签都会继承 body的color定义。<br />
是不是很方便？方便是相对的，当你想要为body内部分标签定义另一种文本颜色时，继承也许会成为增加重复定义、降低性能的祸 首。<br />
并不是所有的样式定义都具有继承的性质，整理了一下常用有继承性的定义， 这些定义在使用的时候要比较注意。<br />
简单分析下上面的例子，最后一部分的代码：</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"> CODE：
<span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c10&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;div&gt;</span>这段文字是什么颜色？<span class="kw">&lt;/div&gt;</span>
<span class="kw">&lt;/div&gt;</span></code></pre></div>
<p>当定义了c10后，根据权值，类定义的权值是0,0,1,0，应该是比div这个定义0,0,0,1要高的，<br />
但由于div是直接定义到标签上的， 比起从c10的定义中继承来的定义权值更高。稍微改下就清楚了：</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html">CODE:
<span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c1&quot;</span><span class="kw">&gt;</span>
  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c2&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c3&quot;</span><span class="kw">&gt;</span>
      <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c4&quot;</span><span class="kw">&gt;</span>
        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c5&quot;</span><span class="kw">&gt;</span>
          <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c6&quot;</span><span class="kw">&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c7&quot;</span><span class="kw">&gt;</span>
              <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c8&quot;</span><span class="kw">&gt;</span>
                <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c9&quot;</span><span class="kw">&gt;</span>
                  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;c10&quot;</span><span class="kw">&gt;</span>
                     <span class="kw">&lt;p&gt;</span>这段文字是什么颜色？<span class="kw">&lt;/p&gt;</span>
                     <span class="kw">&lt;div&gt;</span>这段文字是什么颜色？<span class="kw">&lt;/div&gt;</span>
                  <span class="kw">&lt;/div&gt;</span>
                <span class="kw">&lt;/div&gt;</span>
              <span class="kw">&lt;/div&gt;</span>
            <span class="kw">&lt;/div&gt;</span>
          <span class="kw">&lt;/div&gt;</span>
        <span class="kw">&lt;/div&gt;</span>
      <span class="kw">&lt;/div&gt;</span>
    <span class="kw">&lt;/div&gt;</span>
  <span class="kw">&lt;/div&gt;</span>
<span class="kw">&lt;/div&gt;</span></code></pre></div>
<p>从<a href="http://www.cssforest.org/trys/mode/3_3.html">修改后的例子</a>可以看到，p标签继承了c10的定义，显示为红色。因此，在使用标签选择器的时候，<br />
应特别注意它的作用域，个人的建议是，除了最基本的reset之外，在 公共作用域中最好不要使用标签选择器，在栏目级作用域中也应尽可能的少用。<br />
常用有继承性的样式定义：</p>
<ul>
<li>text-indent</li>
<li>text-align</li>
<li>layout-flow</li>
<li>writing-mode</li>
<li>line-break</li>
<li>white-space</li>
<li>word-wrap</li>
<li>list-style</li>
<li>list-style-image</li>
<li>list-style-position</li>
<li>list-style-type</li>
<li>font</li>
<li>font-style</li>
<li>font-variant</li>
<li>font-weight</li>
<li>font-size</li>
<li>line-height</li>
<li>font-family</li>
<li>color</li>
<li>text-transform</li>
<li>letter-spacing</li>
<li>word-spacing</li>
</ul>
<h2>6.4 模块化的核心思想──页面重构中的模块化设计（四）</h2>
<p>有不少同学觉得前面的内容过于简单了，对于 样式的作用域的分类 、 栏目级作用域 、 继承等内容的确十分基础，不过基础还是很重要的。<br />
下面就一起进入这个系列真正的主题——“模块化”吧。<br />
早在Qzone4.0的页面架构中已经在项目中开始摸索提高代码复用的方法，只不过当时并没有很清晰的认识到“模块化”这个思想。从去年的《 从宜家的家具设计 讲模块化》开始，<br />
模块化成了我主要的一个学习方向。借着无数的提问、思考、讨论，渐渐形成了一个比较清晰的、较为完整的方案。后面的内容，更多的是出于我在实际项 目中总结出来的方法，<br />
虽然已经尽可能为出现的问题提供了解决方法，不过还是少不了会有些我没遇到过或没考虑到的，欢迎各位指出。<br />
首先来了解下页面重构中模块化的核心思想： 将HTML和CSS通过一定的规则进行分类、组合，以达到特定HTML、CSS在特 定范围内最大程度的复用。 有三个关键词：<br />
规则 、 特定范围 、 最大程度的复用 。怎么理解呢？<br />
规则<br />
编写模块时需要遵循的规范<br />
特定范围<br />
模块可使用的范围。与样式的作用域有关，大部分模块的使用范围仅仅是某一个栏目或站点。<br />
最大程度的复用<br />
做最少的修改即可重复使用。很多同学都把“复用”理解成不用修改的直接使用，但在页面 制作中，由于实际的项目环境，基本是不可能做到“一个模块走天下”的。<br />
不同的栏目会有不同的需求，大家应该都多少有所体会，我就不多讲了。<br />
从实际出发，才能最终服务于实际。我们知道一个HTML标签可以绑定多个样式，所以我们可以这样去定义一个模块：</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
&lt;div class=<span class="st">&quot;class-a class-b class-c&quot;</span>&gt;
    <span class="fl">...</span>
&lt;/div&gt;</code></pre></div>
<p>不少同学已经知道这个方法了，而且还很形像的称之为“拼样式”。这样的定义很容易引出其它的问题，比如样式类的个数多少个适合？样式类如何命名？<br />
等等。下面讲下我的方法，从前面我们学到的样式作用域及模块化的核心思想，我们可以把样式进行一个分类，像这样：</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
<span class="fl">.mode-a</span><span class="kw">{</span><span class="co">/* 定义一个模块 */</span><span class="kw">}</span>
<span class="fl">.type-a</span><span class="kw">{</span><span class="co">/* 模块中的差异化定义 */</span><span class="kw">}</span>
<span class="fl">.mode-name</span><span class="kw">{</span><span class="co">/* 针对单个模块的个性化定义 */</span><span class="kw">}</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
&lt;div class=<span class="st">&quot;mode-a type-a mode-name&quot;</span>&gt;
    <span class="fl">...</span>
&lt;/div&gt;</code></pre></div>
<p>上面的“mode-a”，我称它叫为“基类”；“type-a”为“扩展类”；“mode-name”为“模块名”，作用分别是：<br />
基类<br />
（基础样式）模块的基础表现。包含了模块中大部分的状态。<br />
扩展类<br />
（扩展样式）用于对使用基类的模块进行小范围的修改<br />
模块名<br />
模块在某一作用域中的唯一名称。<br />
这里有一个<a href="http://cssforest.org/trys/mode/4_1.html">简单的例子</a>可以帮助理解。<br />
也有同学主张用ID去表示“模块名”，我认为这种方式扩展性比较差，而且很容易与开发的ID冲突，不过也不失为一个方法。</p>
<h2>6.5 基类、扩展类──页面重构中的模块化设计（五）</h2>
<p>基类 和 扩展类 是这个系列的主要内容，上一篇《 模块化的核心思想──页面重构中的模块 化设计（四）》中只是简单提了一下，我们再深入的来了解下它们。<br />
一般所使用的“模块化”的方法，就是以某一个类做为定义的开始，比如：</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
<span class="co">/* S 图片列表 */</span>
<span class="fl">.pic_lists</span> li,
<span class="fl">.pic_lists</span> li img<span class="kw">{float:</span><span class="dt">left</span><span class="kw">;width:</span><span class="dt">122px</span><span class="kw">;height:</span><span class="dt">122px</span><span class="kw">;margin-bottom:</span><span class="dt">8px</span><span class="kw">;}</span>
<span class="fl">.pic_lists</span> li<span class="kw">{list-style:</span><span class="dt">none</span><span class="kw">;margin:</span><span class="dt">0</span> <span class="dt">0</span> <span class="dt">0</span> <span class="dt">6px</span><span class="kw">;text-align:</span><span class="dt">center</span><span class="kw">;}</span>
<span class="fl">.pic_lists</span> li <span class="fl">.pic</span><span class="kw">{display:</span><span class="dt">block</span><span class="kw">;border:</span><span class="dt">1px</span> <span class="dt">solid</span> <span class="dt">#476081</span><span class="kw">;}</span>
<span class="co">/* E 图片列表 */</span>
<span class="co">/* S mtv列表 */</span>
<span class="fl">.mtv_lists</span><span class="kw">{width:</span><span class="dt">930px</span><span class="kw">;height:</span><span class="dt">130px</span><span class="kw">;}</span>
<span class="fl">.mtv_lists</span> li,
<span class="fl">.mtv_lists</span> li img<span class="kw">{float:</span><span class="dt">left</span><span class="kw">;width:</span><span class="dt">120px</span><span class="kw">;margin-bottom:</span><span class="dt">8px</span><span class="kw">;}</span>
<span class="fl">.mtv_lists</span> li<span class="kw">{list-style:</span><span class="dt">none</span><span class="kw">;margin:</span><span class="dt">0</span> <span class="dt">10px</span> <span class="dt">0</span> <span class="dt">0</span><span class="kw">;text-align:</span><span class="dt">center</span><span class="kw">;}</span>
<span class="fl">.mtv_lists</span> li img<span class="kw">{height:</span><span class="dt">90px</span><span class="kw">;border:</span><span class="dt">1px</span> <span class="dt">solid</span> <span class="dt">#476081</span><span class="kw">;}</span>
<span class="fl">.mtv_lists</span> li <span class="fl">.pic</span><span class="kw">{display:</span><span class="dt">block</span><span class="kw">;width:</span><span class="dt">120px</span><span class="kw">;height:</span><span class="dt">90px</span><span class="kw">;margin-bottom:</span><span class="dt">8px</span><span class="kw">;}</span>
<span class="co">/* E mtv列表 */</span></code></pre></div>
<p>这个例子：<a href="http://cssforest.org/trys/mode/5_1.html">两个列表模块</a>。这种方式是比较常见的，可以很好的将一个模块独立出来。如果使用新学习到的“方法”来写这两个列表模块，应该是怎样？<br />
基类（基础样式）模块的基础表现。包含了模块中大部分的状态。也就是说，当出现多个类似的模块时，基类包含了这些模块的大部分的效果（或者理解为公共的部分），<br />
在基类的基础上，我们可以通过添加很少的代码 ——扩展类，来达到所需要要效果。像这样：</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
<span class="co">/* S 列表 基类 */</span>
<span class="fl">.mode_lists</span> li,
<span class="fl">.mode_lists</span> li img<span class="kw">{float:</span><span class="dt">left</span><span class="kw">;width:</span><span class="dt">122px</span><span class="kw">;margin-bottom:</span><span class="dt">8px</span><span class="kw">;}</span>
<span class="fl">.mode_lists</span> li<span class="kw">{list-style:</span><span class="dt">none</span><span class="kw">;margin:</span><span class="dt">0</span> <span class="dt">10px</span> <span class="dt">18px</span> <span class="dt">0</span><span class="kw">;text-align:</span><span class="dt">center</span><span class="kw">;}</span>
<span class="fl">.mode_lists</span> li img<span class="kw">{border:</span><span class="dt">1px</span> <span class="dt">solid</span> <span class="dt">#476081</span><span class="kw">;}</span>
<span class="co">/* E 列表 基类 */</span>
<span class="co">/* S 图片列表 */</span>
<span class="fl">.pic_lists</span> li,
<span class="fl">.pic_lists</span> li img<span class="kw">{height:</span><span class="dt">122px</span><span class="kw">;}</span>
<span class="fl">.pic_lists</span> li<span class="kw">{margin:</span><span class="dt">0</span> <span class="dt">0</span> <span class="dt">8px</span> <span class="dt">6px</span><span class="kw">;}</span>
<span class="fl">.pic_lists</span> li <span class="fl">.pic</span><span class="kw">{display:</span><span class="dt">block</span><span class="kw">;border:</span><span class="dt">1px</span> <span class="dt">solid</span> <span class="dt">#476081</span><span class="kw">;}</span>
<span class="co">/* E 图片列表 */</span>
<span class="co">/* S mtv列表 */</span>
<span class="fl">.mtv_lists</span><span class="kw">{width:</span><span class="dt">930px</span><span class="kw">;height:</span><span class="dt">130px</span><span class="kw">;}</span>
<span class="fl">.mtv_lists</span> li,
<span class="fl">.mtv_lists</span> li img<span class="kw">{width:</span><span class="dt">120px</span><span class="kw">;height:</span><span class="dt">90px</span><span class="kw">;}</span>
<span class="fl">.mtv_lists</span> li <span class="fl">.pic</span><span class="kw">{display:</span><span class="dt">block</span><span class="kw">;margin-bottom:</span><span class="dt">8px</span><span class="kw">;}</span>
<span class="co">/* E mtv列表 */</span></code></pre></div>
<p>可能你会觉得这样的样式不就多写了，还得把原先的模块类变成两个。的确不是所有的模块都值得这样去做，于是我们可以得到一种“偷懒”的作法，<br />
把其 中一个模块直接变成基类。对于经常会被使用的模块，像图片列表、播放列表等，这种写法在代码的复用和效率会有一定的提高。<br />
一般情况下只需要做下简单的修改 即可应用，来看一个复杂些的例子：<br />
一个带头像的消息列表（A）</p>
<p><img src="imgs/css_model28.png" alt="css_model28" /></p>
<p>看看这两个图，在脑中先想想如果是你，你要怎么实现。……5分钟过去了……差不多有方案了，按上面的思路，基类是包含了大部分的效果的，<br />
也就是说 基类应该能满足大部分效果的需要，两个模块间差异的地方，可以通过扩展类来完成。当然前提是这两个模块有能找到类似的点，能够形成基类。<br />
在这两个模块中，我们不难看出，A模块和B模块在信息的部分是很类似的，虽然B模块的列表不需要A模块的评论部分，但这并不影响B模块的表现。<br />
所 以我们可以把这两个模块看成的类似模块。另个，以哪个为基类呢？从满足大部分效果这个要求来看，很明显A模块做为基类是要比B模块做为基类更合适的，<br />
如果 用B模块做基类，那么需要写更多的扩展类来满足A的需要。另外还有一个重要的点，之所以选择A模块为基类，是因为A在栏目中被更多的页面使用。<br />
OK，来看看A模块怎么实现（样式部分）：</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
<span class="co">/* S 消息 基类 */</span>
<span class="fl">.mode_message</span><span class="kw">{position:</span><span class="dt">relative</span><span class="kw">;padding:</span><span class="dt">8px</span> <span class="dt">3px</span> <span class="dt">8px</span> <span class="dt">48px</span><span class="kw">;</span>
<span class="kw">border-bottom:</span><span class="dt">1px</span> <span class="dt">solid</span> <span class="dt">#DAECF6</span><span class="kw">;_zoom:</span><span class="dt">1</span><span class="kw">;line-height:</span><span class="dt">1.3</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.user_info</span><span class="kw">{position:</span><span class="dt">absolute</span><span class="kw">;left:</span><span class="dt">3px</span><span class="kw">;top:</span><span class="dt">10px</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.user_info</span> <span class="fl">.pic</span> img<span class="kw">{width:</span><span class="dt">35px</span><span class="kw">;height:</span><span class="dt">35px</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.mode_message_cont</span><span class="kw">{color:</span><span class="dt">#797979</span><span class="kw">;</span>
<span class="kw">word-break:</span><span class="dt">normal</span><span class="kw">;word-wrap:</span>break-word<span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.mode_message_cont</span> <span class="fl">.info</span><span class="kw">{display:</span><span class="dt">block</span><span class="kw">;zoom:</span><span class="dt">1</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.mode_message_cont</span> <span class="fl">.info</span> <span class="fl">.music_name</span><span class="kw">{color:</span><span class="dt">#22639B</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.mode_message_cont</span> <span class="fl">.info</span> <span class="fl">.op_music</span><span class="kw">{display:</span><span class="dt">none</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.mode_message_cont</span> <span class="fl">.info</span><span class="dv">:hover</span> <span class="fl">.op_music</span>,
<span class="fl">.mode_message</span> <span class="fl">.mode_message_cont</span> <span class="fl">.info.hover</span> <span class="fl">.op_music</span><span class="kw">{display:</span><span class="dt">block</span><span class="kw">;position:</span><span class="dt">absolute</span><span class="kw">;right:</span><span class="dt">5px</span><span class="kw">;top:</span><span class="dt">7px</span><span class="kw">;</span>
<span class="kw">background-color:</span><span class="dt">#FFFFFF</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.msg</span><span class="kw">{padding:</span><span class="dt">2px</span> <span class="dt">0</span><span class="kw">;word-break:</span><span class="dt">normal</span><span class="kw">;word-wrap:</span>break-word<span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.mode_message_cont</span> <span class="fl">.op</span><span class="kw">{margin-bottom:</span><span class="dt">3px</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.time</span><span class="kw">{display:</span><span class="dt">inline-block</span><span class="kw">;</span><span class="er">*</span><span class="kw">display:</span><span class="dt">inline</span><span class="kw">;</span><span class="er">*</span><span class="kw">zoom:</span><span class="dt">1</span><span class="kw">;font-size:</span><span class="dt">10px</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.msg</span> <span class="fl">.p_zt_l</span>,<span class="fl">.mode_message</span> <span class="fl">.msg</span> <span class="fl">.p_zt_r</span><span class="kw">{display:</span><span class="dt">inline-block</span><span class="kw">;</span><span class="er">*</span><span class="kw">display:</span><span class="dt">inline</span><span class="kw">;</span><span class="er">*</span><span class="kw">zoom:</span><span class="dt">1</span><span class="kw">;</span>
<span class="kw">width:</span><span class="dt">13px</span><span class="kw">;height:</span><span class="dt">8px</span><span class="kw">;background:</span><span class="dt">url(</span>img/_g_other<span class="dt">.</span>png<span class="dt">)</span> <span class="dt">no-repeat</span> <span class="dt">-17px</span> <span class="dt">-17px</span><span class="kw">;</span>
<span class="kw">vertical-align:</span>text-middle<span class="kw">;</span><span class="er">*</span><span class="kw">vertical-align:</span><span class="dt">middle</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.msg</span> <span class="fl">.p_zt_r</span><span class="kw">{background-position:</span><span class="dt">0</span> <span class="dt">-28px</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.write_back</span> <span class="fl">.cont</span><span class="kw">{margin-bottom:</span><span class="dt">2px</span><span class="kw">;padding:</span><span class="dt">5px</span><span class="kw">;background-color:</span><span class="dt">#EAF6FA</span><span class="kw">;_zoom:</span><span class="dt">1</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.write_back</span> <span class="fl">.cont</span> <span class="fl">.cont</span><span class="kw">{border-left:</span><span class="dt">1px</span> <span class="dt">solid</span> <span class="dt">#ABCFE1</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.write_back</span> <span class="fl">.cont</span> <span class="fl">.zt</span><span class="kw">{</span><span class="er">*</span><span class="kw">overflow:</span><span class="dt">hidden</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.write_back</span> <span class="fl">.cont</span> <span class="fl">.zt2</span><span class="kw">{</span><span class="er">*</span><span class="kw">padding-right:</span><span class="dt">6px</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.write_back</span> <span class="fl">.cont</span> <span class="fl">.zt</span> textarea<span class="kw">{width:</span><span class="dt">100%</span><span class="kw">;height:</span><span class="dt">40px</span><span class="kw">;padding:</span><span class="dt">0</span> <span class="dt">2px</span><span class="kw">;</span>
<span class="kw">border:</span><span class="dt">1px</span> <span class="dt">solid</span> <span class="dt">#D1E1EC</span><span class="kw">;line-height:</span><span class="dt">20px</span><span class="kw">;color:</span><span class="dt">#4F4F4F</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.write_back</span> <span class="fl">.cont</span> <span class="fl">.zt</span> <span class="fl">.normal</span> textarea<span class="kw">{height:</span><span class="dt">23px</span><span class="kw">;color:</span><span class="dt">#B1B4B8</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.write_back</span> <span class="fl">.cont</span> <span class="fl">.zt</span> <span class="fl">.normal</span> <span class="fl">.op</span><span class="kw">{display:</span><span class="dt">none</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.write_back</span> <span class="fl">.cont</span> <span class="fl">.op</span><span class="kw">{margin:</span><span class="dt">5px</span> <span class="dt">0</span> <span class="dt">0</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.write_back</span> <span class="fl">.cont</span> <span class="fl">.op</span> <span class="fl">.bt_v2</span><span class="kw">{padding:</span><span class="dt">0</span> <span class="dt">2px</span><span class="kw">;vertical-align:</span><span class="dt">middle</span><span class="kw">;}</span>
<span class="fl">.mode_message</span> <span class="fl">.write_back</span> <span class="fl">.cont</span> <span class="fl">.zt</span><span class="kw">{width:</span><span class="dt">98.5%</span><span class="kw">;</span><span class="er">*</span><span class="kw">width:</span><span class="dt">99.9%</span><span class="kw">}</span>
<span class="fl">.mode_message</span><span class="dv">:nth-last-child</span>(1)<span class="kw">{border-bottom:</span><span class="dt">none</span><span class="kw">;}</span>
<span class="co">/* E 消息 基类 */</span></code></pre></div>
<p>别忘了提示条，虽然是用于模块中，但它应该是可以被更广泛使用的模块，因此我把它单独提了出来：</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
<span class="co">/* S 提示条 基类 */</span>
<span class="fl">.mode_hint</span><span class="kw">{position:</span><span class="dt">relative</span><span class="kw">;margin:</span><span class="dt">3px</span> <span class="dt">0</span><span class="kw">;padding:</span><span class="dt">5px</span><span class="kw">;</span>
<span class="kw">background-color:</span><span class="dt">#FFFEAB</span><span class="kw">;color:</span><span class="dt">#000000</span><span class="kw">;_zoom:</span><span class="dt">1</span><span class="kw">;}</span>
<span class="fl">.mode_hint</span> <span class="fl">.op</span><span class="kw">{position:</span><span class="dt">absolute</span><span class="kw">;right:</span><span class="dt">8px</span><span class="kw">;top:</span><span class="dt">5px</span><span class="kw">;}</span>
<span class="fl">.mode_hint</span> <span class="fl">.op</span> a<span class="kw">{color:</span><span class="dt">#000000</span><span class="kw">;}</span>
<span class="co">/* E 提示条 基类 */</span></code></pre></div>
<p>还有像按钮、全局定义这些内容，就不列出了。完整的可以看： <a href="http://cssforest.org/trys/mode/5_3.html">基类、扩展类实例</a>。例子中可以看到，扩展类的定义很少，<br />
只是一些简单的定义，像B模块：</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
<span class="co">/* S 消息 扩展 */</span>
<span class="fl">.message_nopic</span><span class="kw">{padding-left:</span><span class="dt">0</span><span class="kw">;}</span>
<span class="co">/* E 消息 扩展 */</span></code></pre></div>
<p>只需要一句，将头像去掉即可。</p>
<h2 id="css">6.6 CSS模块的注释——页面重构中的模块化设计（六）</h2>
<p>从前面的内容我们已经知道，样式是可以分成各个模块去写的，如何表示各个模块的作用及它们之间的关系呢？CSS的注释是不二的选择。<br />
与普通的注释不同，模块的注释需要一些更详细的内容，比如：功能说明、模块版本、关联信息等等。<br />
像 <a href="http://www.cssforest.org/blog/index.php?id=167">《基类、扩展类──页面重构中的模块化设计（五）》</a>中例子的注释，<br />
显然是比较简单的。为了减少不必要的沟通，我们可以使用较为固定的格式去完成这个注释。<br />
举个例子：</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">CODE<span class="dv">:</span>
<span class="co">/**</span>
<span class="co">  * @name:mode_name</span>
<span class="co">  * @author:ghostzhang</span>
<span class="co">  * @version:1.0</span>
<span class="co">  * @type:基类</span>
<span class="co">  * @explain:Demo</span>
<span class="co">  */</span>
<span class="fl">.mode_name</span><span class="kw">{</span><span class="er">...</span><span class="kw">}</span>
<span class="fl">.mode_name</span> h2<span class="kw">{</span>
    <span class="er">...</span>
<span class="kw">}</span>
<span class="fl">.mode_name</span> <span class="fl">.cont</span><span class="kw">{</span>
    <span class="er">...</span>
<span class="kw">}</span>
<span class="co">/* @end **/</span>
<span class="co">/**</span>
<span class="co">  * @name:mode_name_b</span>
<span class="co">  * @author:ghostzhang</span>
<span class="co">  * @version:1.0</span>
<span class="co">  * @type:扩展类</span>
<span class="co">  * @explain:Demo</span>
<span class="co">  * @dependent:mode_name</span>
<span class="co">  */</span>
<span class="fl">.mode_name_b</span><span class="kw">{</span><span class="er">...</span><span class="kw">}</span>
<span class="fl">.mode_name_b</span> h2<span class="kw">{</span>
    <span class="er">...</span>
<span class="kw">}</span>
<span class="fl">.mode_name_b</span> <span class="fl">.cont</span><span class="kw">{</span>
    <span class="er">...</span>
<span class="kw">}</span>
<span class="co">/* @end **/</span></code></pre></div>
<p>从注释中就可以知道mode_name_b和mode_name_a之间的关系。<br />
主要的关键字有：<br />
@name<br />
标明模块的名称<br />
@author<br />
标明模块的作者<br />
@version<br />
标明该模块的版本<br />
@explain<br />
功能说明<br />
@relating<br />
标明该关联的模块<br />
@dependent<br />
标明该所依赖的模块<br />
@type标明该模块的类型：公共、基类、扩展类<br />
需要注意的规则：<br />
以“/<strong>”标记模块的开始<br />
从“/</strong>”到第一个“<em>/”作为模块相关信息的说明，包含关键字<br />
<script type="text/javascript">
<!--
h='&#x3d;&#x3d;&#24320;&#22836;';a='&#64;';n='&#x5173;&#38190;&#x5b57;&#x4ee5;&#x3d;&#x3d;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'" clas'+'s="em' + 'ail">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#x5173;&#38190;&#x5b57;&#x4ee5;&#x3d;&#x3d;&#32;&#x61;&#116;&#32;&#x3d;&#x3d;&#24320;&#22836;</noscript>，“:”后开始到“</em>”的内容为相关的值，即：<br />
@关键字:值<em><br />
以“/</em> @end **/”标记模块的结束<br />
模块注释内不可嵌套<br />
提供了一个小工具（<a href="http://www.cssforest.org/blog/index.php?s=file_download&amp;id=18">cssModeCODE:</a> ）帮助大家填写样式模块的注释。</p>
			
			<!-- content end -->
			</div>
		</div>
	</div>
	<div class="footer">
		<ul>
			<li>姓名:卡尔</li>
			<li>QQ: 375694052</li>
			<li>邮箱:375694052@qq.com</li>
		</ul>
	</div>
</body>
</html>
