I"ñ<ul id="markdown-toc">
  <li><a href="#å‰è¨€" id="markdown-toc-å‰è¨€">å‰è¨€</a></li>
  <li><a href="#å®‰è£…éƒ¨ç½²" id="markdown-toc-å®‰è£…éƒ¨ç½²">å®‰è£…éƒ¨ç½²</a></li>
  <li><a href="#ä½¿ç”¨javaå®¢æˆ·ç«¯" id="markdown-toc-ä½¿ç”¨javaå®¢æˆ·ç«¯">ä½¿ç”¨javaå®¢æˆ·ç«¯</a></li>
</ul>

<h2 id="å‰è¨€">å‰è¨€</h2>

<p>Redisæ˜¯ä¸€ç§é«˜çº§key-valueæ•°æ®åº“ã€‚å®ƒè·Ÿmemcachedç±»ä¼¼ï¼Œä¸è¿‡æ•°æ®å¯ä»¥æŒä¹…åŒ–ï¼Œè€Œä¸”æ”¯æŒçš„æ•°æ®ç±»å‹å¾ˆä¸°å¯Œã€‚æœ‰å­—ç¬¦ä¸²ï¼Œé“¾è¡¨ï¼Œé›† åˆå’Œæœ‰åºé›†åˆã€‚æ”¯æŒåœ¨æœåŠ¡å™¨ç«¯è®¡ç®—é›†åˆçš„å¹¶ï¼Œäº¤å’Œè¡¥é›†(difference)ç­‰ï¼Œè¿˜æ”¯æŒå¤šç§æ’åºåŠŸèƒ½ã€‚æ‰€ä»¥Redisä¹Ÿå¯ä»¥è¢«çœ‹æˆæ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„æœåŠ¡ å™¨ã€‚ 
Redisçš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œç„¶åä¸å®šæœŸçš„é€šè¿‡å¼‚æ­¥æ–¹å¼ä¿å­˜åˆ°ç£ç›˜ä¸Š(è¿™ç§°ä¸ºâ€œåŠæŒä¹…åŒ–æ¨¡å¼â€)ï¼›ä¹Ÿå¯ä»¥æŠŠæ¯ä¸€æ¬¡æ•°æ®å˜åŒ–éƒ½å†™å…¥åˆ°ä¸€ä¸ªappend only file(aof)é‡Œé¢(è¿™ç§°ä¸ºâ€œå…¨æŒä¹…åŒ–æ¨¡å¼â€)ã€‚</p>

<h2 id="å®‰è£…éƒ¨ç½²">å®‰è£…éƒ¨ç½²</h2>

<p>å…ˆåˆ°rediså®˜ç½‘ä¸‹è½½redisï¼Œæ³¨æ„ï¼Œrediså®˜æ–¹æ²¡æœ‰æ”¯æŒwindowç‰ˆæœ¬ï¼Œåªæœ‰linuxç‰ˆæœ¬ï¼Œå¹¶ä¸”éœ€è¦æºç ç¼–è¯‘å®‰è£…ï¼Œä¸‹è½½æºç åŒ…å³å¯ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯3.2.5ç‰ˆæœ¬</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[kael@localhost Downloads]$ wget http://download.redis.io/releases/redis-3.2.5.tar.gz
</code></pre></div></div>

<p>ä¸‹è½½å®Œæˆåè§£å‹ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[kael@localhost Downloads]$ tar -xvf redis-3.2.4.tar.gz
</code></pre></div></div>

<p>è¿›å…¥è§£å‹åçš„ç›®å½•å¦‚ä¸‹ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[kael@localhost Downloads]$ cd redis-3.2.4/
[kael@localhost redis-3.2.4]$ ls
00-RELEASENOTES  BUGS  CONTRIBUTING  COPYING  deps  dump.rdb  INSTALL  Makefile  MANIFESTO  README.md  redis.conf  runtest  runtest-cluster  runtest-sentinel  sentinel.conf  src  tests  utils
[kael@localhost redis-3.2.4]$ 
</code></pre></div></div>

<blockquote>
  <p>æ³¨æ„ï¼Œåœ¨ç¼–è¯‘æºç ä¹‹å‰ï¼Œéœ€è¦å®‰è£…ç¼–è¯‘å™¨ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ“ä½œç³»ç»Ÿçš„fedora 24ï¼Œå†…ç½®å®‰è£…äº†ï¼Œå¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">gcc</code>å‘½ä»¤æµ‹è¯•ä¸€ä¸‹ï¼š</p>

  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[kael@localhost redis-3.2.4]$ gcc
gcc: fatal error: no input files
compilation terminated.
</code></pre></div>  </div>

  <p>è¿™è¯´æ˜æœ‰è¿™ä¸ªæŒ‡ä»¤ï¼Œå·²ç»å®‰è£…äº†ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…çš„è¯ï¼Œå¯ä»¥ç”¨<code class="highlighter-rouge">yum</code>æˆ–è€…<code class="highlighter-rouge">apt-get</code>å®‰è£…å³å¯ã€‚</p>
</blockquote>

<p>æ¥ä¸‹æ¥ç¼–è¯‘redisæºç ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[kael@localhost redis-3.2.4]$ make
</code></pre></div></div>

<p>ç¼–è¯‘çš„è¿‡ç¨‹ä¼šå‡ºç°ä¸€å¤§å †çš„æ—¥å¿—ï¼š</p>

<p><img src="https://raw.githubusercontent.com/kael-aiur/image-repo1/master/redis/make_log.png" alt="ç¼–è¯‘æ—¥å¿—" /></p>

<p>è¿™é‡Œè¡¨ç¤ºç¼–è¯‘å®Œæˆï¼Œæ­¤æ—¶æˆ‘ä»¬è¿›å…¥srcç›®å½•å°±å¯ä»¥çœ‹åˆ°ç¼–è¯‘å‡ºæ¥çš„è„šæœ¬æ–‡ä»¶äº†ï¼š</p>

<p><img src="https://raw.githubusercontent.com/kael-aiur/image-repo1/master/redis/src_file.png" alt="ç¼–è¯‘ç»“æœ" /></p>

<p>è¿™ä¸ªæ—¶å€™ç›´æ¥è¿è¡Œrediså³å¯</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[kael@localhost src]$ ./redis-server
</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/kael-aiur/image-repo1/master/redis/run_server.png" alt="è¿è¡Œ" /></p>

<p>æŒ‰ä¸‹ctrl+cåœæ­¢redisã€‚</p>

<p>å›åˆ°redisçš„è·Ÿç›®å½•ï¼Œå°†rediså®‰è£…åˆ°æœ¬åœ°ï¼Œå°±å¯ä»¥åœ¨ä»»æ„ç›®å½•ä¸‹ è¿è¡Œredisäº†ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[kael@localhost src]$ cd ..
[kael@localhost redis-3.2.4]$ sudo make install
</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/kael-aiur/image-repo1/master/redis/install_redis.png" alt="è¿è¡Œ" /></p>

<p>å®‰è£…å®Œæˆã€‚</p>

<p>ç°åœ¨æˆ‘ä»¬é‡æ–°è¿è¡Œredis:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[kael@localhost redis-3.2.4]$ redis-server
</code></pre></div></div>

<p>ç„¶åæ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œè¿è¡Œredisçš„å®¢æˆ·ç«¯ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[kael@localhost ~]$ redis-cli
</code></pre></div></div>

<p>å°±ä¼šè¿›å…¥redisäº†ï¼Œæµ‹è¯•ä¸€ä¸‹ç®€å•çš„æŒ‡ä»¤ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>127.0.0.1:6379&gt; set name kael
OK
127.0.0.1:6379&gt; get name
"kael"
127.0.0.1:6379&gt; 
</code></pre></div></div>

<p>ä¸€åˆ‡æ­£å¸¸ã€‚</p>

<p>è¯´æ˜rediså·²ç»éƒ¨ç½²æˆåŠŸã€‚</p>

<h2 id="ä½¿ç”¨javaå®¢æˆ·ç«¯">ä½¿ç”¨javaå®¢æˆ·ç«¯</h2>

<p>redisçš„å®¢æˆ·ç«¯éå¸¸å¤šï¼Œå„ç§è¯­è¨€éƒ½æœ‰ï¼Œjavaä¹Ÿæœ‰å¤šä¸ªå®¢æˆ·ç«¯ï¼Œç›®å‰ç”¨çš„æ¯”è¾ƒå¹¿æ³›çš„æ˜¯Jedisï¼Œæˆ‘ä»¬æ¥å†™ä¸€ä¸ªç®€å•çš„åº”ç”¨æµ‹è¯•ä¸€ä¸‹ã€‚</p>

<p>åˆ›å»ºä¸€ä¸ªæ™®é€šçš„java mavenå·¥ç¨‹ï¼š</p>

<p><img src="https://raw.githubusercontent.com/kael-aiur/image-repo1/master/redis/java_client.png" alt="java å·¥ç¨‹" /></p>

<p>åœ¨pom.xmlä¸­æ·»åŠ Jedisçš„ä¾èµ–ï¼š</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>redis.clients<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>jedis<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>2.9.0<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p>ç„¶åå†™ä¸€ä¸ªMainç±»ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">main</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">redis.clients.jedis.Jedis</span><span class="o">;</span>

<span class="cm">/**
 * Created by kael on 2016/10/24.
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="nc">Jedis</span> <span class="n">jedis</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Jedis</span><span class="o">(</span><span class="s">"10.200.84.89"</span><span class="o">);</span>
        <span class="n">jedis</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"foo"</span><span class="o">,</span> <span class="s">"bar"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">jedis</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"foo"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>è¿è¡Œä¸€ä¸‹ï¼ŒæŠ›å‡ºäº†å¼‚å¸¸ï¼š</p>

<p><img src="https://raw.githubusercontent.com/kael-aiur/image-repo1/master/redis/java_client_exception.png" alt="javaå¼‚å¸¸" /></p>

<p>è¿™æ˜¯å› ä¸ºredisé»˜è®¤æ˜¯è¿è¡Œæ˜¯å®‰å…¨æ¨¡å¼çš„ï¼Œä¸å…è®¸è¿œç¨‹è¿æ¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨å®¢æˆ·ç«¯è®¾ç½®å…³é—­å®‰å…¨æ¨¡å¼ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>127.0.0.1:6379&gt; config set protected-mode no
OK
127.0.0.1:6379&gt; 
</code></pre></div></div>

<p>å†æ¬¡è¿è¡Œjavaå®¢æˆ·ç«¯ç¨‹åºï¼Œæ‰“å°å¦‚ä¸‹ç»“æœï¼š</p>

<p><img src="https://raw.githubusercontent.com/kael-aiur/image-repo1/master/redis/java_client_ok.png" alt="javaæ‰“å°ç»“æœ" /></p>

<p>æˆåŠŸï¼</p>
:ET